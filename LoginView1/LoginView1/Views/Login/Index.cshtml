
@{
    ViewData["Title"] = "Index";
}

<h1>Index</h1>

<div class="row">
    <div class="col-md-6 col-md-offset-3">
        <div class="jumbotron">
            <form role="form" asp-action="Index" asp-controller="Login" method="post">
                <div class="form-group">
                    <label for="Name">User Name</label>
                    <input type="text" id="userName" autocomplete="off" class="form-control input-sm" placeholder="Name">
                    
                </div>
                <div class="form-group">
                    <label for="Email">Email</label>
                    <input type="email" id="email" name="Email" @*asp-for="Email"*@ autocomplete="off" class="form-control input-sm" placeholder="Email Address">
                    @*<span asp-validation-for="Email" class="text-danger"></span>*@
                </div>
                <div class="form-group">
                    <label for="Password">Password</label>
                    <input type="password" id="password" name="Password"  autocomplete="off" class="form-control input-sm" placeholder="Password">
                    @*<span asp-validation-for="Password" class="text-danger"></span>*@
                </div>
                <div class="form-group">
                    <label for="Full Name">Full Name</label>
                    <input name="Full Name" id="fullName" @*asp-for="Email"*@ autocomplete="off" class="form-control input-sm" placeholder="Full Name">
                    @*<span asp-validation-for="Email" class="text-danger"></span>*@
                </div>
                <input type="button" value="Register" id="register" class="btn btn-info btn-block">
            </form>
        </div>
    </div>

</div>




<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>


<script>
    $(document).ready(function () {
        console.log("ready!");
        $("#register").click(function () {

            $.ajax(
                {
                    type: "POST", //HTTP POST Method
                    url: "http://localhost:63697/api/ApplicationUser/Register",
                    data: JSON.stringify({
                        userName: $('#userName').val(),
                        email: $('#email').val(),
                        password: $('#password').val(),
                        fullName: $('#fullName').val()
                    }),
                    contentType: "application/json; charset=utf-8",
                    dataType: 'json',
                    success: function (data, textStatus, xhr) {
                        console.log(data);
                        $('#userName').val('');
                        $('#email').val('');
                        $('#password').val('');
                        $('#fullName').val('');

                    },
                    //error: function (req, err) {
                    //    console.log('Error in Operation');
                    //    console.log(err);
                    //}
                    error: function (req, err) { console.log('my message' + err); }
                });
        });
    });

      

</script>